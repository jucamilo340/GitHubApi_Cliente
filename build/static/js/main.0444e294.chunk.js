(this.webpackJsonpgithub_project=this.webpackJsonpgithub_project||[]).push([[0],{194:function(e,a,t){},329:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(18),o=t.n(s),i=(t(194),t(16)),c=t(400),l=t(381),u=t(379),d=t(394),m=t(96),j=t(160),p=t.n(j),b="https://github-apibackend.herokuapp.com";console.log("URL_BASE",b);var h,g=p.a.create({baseURL:b}),x=t(62),O=t.n(x),f=t(35),v=t(177),N=t(397),w=t(377),S=t(92),y=t.n(S),C=t(380),k=t(375),T=t(36),q=t(3),L=Object(k.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://blog.underc0de.org/wp-content/uploads/2020/10/69061801_1983324578436489_6865726632515076096_o.jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),backgroundColor:"#202123",color:"white"}}})),I=function(){var e=L(),a=localStorage.getItem("user"),t=Object(i.g)(),r=Object(m.a)({initialValues:{username:"",password:""},validationSchema:f.a({password:f.b().min(6,"The password must be a minimum of 6 characters").required("The Password is required"),username:f.b().required("The username is required")}),onSubmit:function(e){var a={username:e.username,password:e.password};g.post("/api/users/Login",a).then((function(e){O.a.fire("User Login Successfully","","success"),localStorage.setItem("user",JSON.stringify(e.data)),t.push("/")})).catch((function(e){console.log(e),O.a.fire("There was an Error Login the user","","error")}))}});return Object(q.jsx)(q.Fragment,{children:null===a?Object(q.jsxs)(w.a,{container:!0,component:"main",className:e.root,children:[Object(q.jsx)(u.a,{}),Object(q.jsx)(w.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(q.jsx)(w.a,{item:!0,xs:12,sm:8,md:5,component:v.a,elevation:6,square:!0,children:Object(q.jsxs)("div",{className:e.paper,children:[Object(q.jsx)(c.a,{className:e.avatar,children:Object(q.jsx)(y.a,{})}),Object(q.jsx)(C.a,{component:"h1",variant:"h5",children:"Login"}),Object(q.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:r.handleSubmit,children:[Object(q.jsx)(d.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:r.handleChange,value:r.values.username,helperText:r.touched.username&&r.errors.username,error:!(!r.touched.username||!r.errors.username)}),Object(q.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:r.handleChange,value:r.values.password,helperText:r.touched.password&&r.errors.password,error:!(!r.touched.password||!r.errors.password)}),Object(q.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",className:e.submit,children:"Login"}),Object(q.jsxs)(w.a,{container:!0,children:[Object(q.jsx)(w.a,{item:!0,xs:!0}),Object(q.jsx)(w.a,{item:!0,children:Object(q.jsx)(T.b,{to:"/singUp",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(q.jsx)(N.a,{mt:5})]})]})})]}):Object(q.jsx)(i.a,{to:"/"})})},U=Object(k.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://blog.underc0de.org/wp-content/uploads/2020/10/69061801_1983324578436489_6865726632515076096_o.jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),backgroundColor:"#202123",color:"white"}}})),P=function(){var e=U(),a=Object(i.g)(),t=Object(m.a)({initialValues:{firstName:"",lastName:"",username:"",email:"",password:""},validationSchema:f.a({firstName:f.b().required("The firstName is required"),lastName:f.b().required("The lastName is required"),username:f.b().required("The username is required"),password:f.b().min(6,"The password must be a minimum of 6 characters").required("The Password is required"),email:f.b().email("Invalid email").required("The Email is required")}),onSubmit:function(e){var t={firstName:e.firstName,lastName:e.lastName,username:e.username,email:e.email,password:e.password};g.post("/api/users/create",t).then((function(e){O.a.fire("User Created Successfully","","success"),a.push("/Login")})).catch((function(e){console.log(e),O.a.fire("There was an Error creating the user","","error")}))}});return Object(q.jsxs)(w.a,{container:!0,component:"main",className:e.root,children:[Object(q.jsx)(u.a,{}),Object(q.jsx)(w.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(q.jsx)(w.a,{item:!0,xs:12,sm:8,md:5,component:v.a,elevation:6,square:!0,children:Object(q.jsxs)("div",{className:e.paper,children:[Object(q.jsx)(c.a,{className:e.avatar,children:Object(q.jsx)(y.a,{})}),Object(q.jsx)(C.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(q.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:t.handleSubmit,children:[Object(q.jsxs)(w.a,{container:!0,spacing:2,children:[Object(q.jsx)(w.a,{item:!0,xs:12,sm:6,children:Object(q.jsx)(d.a,{autoComplete:"fname",name:"firstName",onChange:t.handleChange,value:t.values.firstName,helperText:t.touched.firstName&&t.errors.firstName,error:!(!t.touched.firstName||!t.errors.firstName),variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(q.jsx)(w.a,{item:!0,xs:12,sm:6,children:Object(q.jsx)(d.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:t.handleChange,value:t.values.lastName,helperText:t.touched.lastName&&t.errors.lastName,error:!(!t.touched.lastName||!t.errors.lastName)})}),Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(d.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:t.handleChange,value:t.values.username,helperText:t.touched.username&&t.errors.username,error:!(!t.touched.username||!t.errors.username)})}),Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(d.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:t.handleChange,value:t.values.email,helperText:t.touched.email&&t.errors.email,error:!(!t.touched.email||!t.errors.email)})}),Object(q.jsx)(w.a,{item:!0,xs:12,sm:6,children:Object(q.jsx)(d.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:t.handleChange,value:t.values.password,helperText:t.touched.password&&t.errors.password,error:!(!t.touched.password||!t.errors.password)})}),Object(q.jsx)(w.a,{item:!0,xs:12,sm:6})]}),Object(q.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"#434b4d",className:e.submit,children:"Sign Up"}),Object(q.jsx)(w.a,{container:!0,justify:"flex-end",children:Object(q.jsx)(w.a,{item:!0,children:Object(q.jsx)(T.b,{to:"/Login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})})]})},A=t(23),B=t(167),W=t(382),D=t(383),_=Object(k.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},appBar:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundColor:"#202123",color:"white"},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5),color:"#fff"},nav:{display:"flex",flexDirection:"row"}}})),F=function(e){var a=e.avatarurl,t=_(),r=localStorage.getItem("user"),n=JSON.parse(r),s=Object(i.g)();return Object(q.jsx)(W.a,{position:"static",color:"default",elevation:0,className:t.appBar,children:Object(q.jsxs)(D.a,{className:t.toolbar,children:[Object(q.jsx)(C.a,{variant:"h6",color:"inherit",noWrap:!0,className:t.toolbarTitle,children:"HELLO BUILD TEST"}),Object(q.jsxs)("nav",{className:t.nav,children:[Object(q.jsx)(c.a,{alt:"Remy Sharp",src:a}),Object(q.jsxs)(C.a,{variant:"button",color:"textPrimary",href:"#",className:t.link,children:["Welcome ",n.username]})]}),Object(q.jsx)(l.a,{href:"#",color:"primary",variant:"outlined",className:t.link,onClick:function(){return localStorage.removeItem("user"),void s.push("/Login")},children:"log out"})]})})},E=t(402),R=t(384),z=t(168),J=t.n(z),Y=Object(k.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",margin:"40px 0",width:400},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}})),V=function(e){var a=e.repositoriesAll,t=e.setrepositories,r=Y();return Object(q.jsxs)(v.a,{elevation:3,component:"form",className:r.root,children:[Object(q.jsx)(E.a,{className:r.input,placeholder:"Search a Repository",inputProps:{"aria-label":"search google maps"},onChange:function(e){return function(e){var r=e.target.value,n=Array.from(a).filter((function(e){return e.name.toUpperCase().indexOf(r.toUpperCase())>-1}));t(n)}(e)}}),Object(q.jsx)(R.a,{type:"submit",className:r.iconButton,"aria-label":"search",children:Object(q.jsx)(J.a,{})})]})},M=t(395),H=t(399),Z=t(389),$=t(386),G=t(388),K=t(387),Q=t(385),X=t(169),ee=t.n(X),ae=t(172),te=t.n(ae),re=t(171),ne=t.n(re),se=Object(M.a)(h||(h=Object(B.a)(["\n  query user($login: String!) {\n    user(login: $login) {\n      avatarUrl\n      repositories(first: 50, isFork: false) {\n        nodes {\n          name\n          description\n          createdAt\n          isPrivate\n          url\n        }\n      }\n    }\n  }\n"]))),oe=Object(k.a)({container:{marginTop:30},root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},Star:{color:"#DAD05C",fontSize:35,cursor:"pointer"}}),ie=function(){var e=localStorage.getItem("user"),a=JSON.parse(e),t=Object(r.useState)([]),n=Object(A.a)(t,2),s=n[0],o=n[1],c=Object(r.useState)([]),u=Object(A.a)(c,2),d=u[0],m=u[1],j=Object(r.useState)(""),p=Object(A.a)(j,2),b=p[0],h=p[1],x=Object(r.useState)("#202123"),O=Object(A.a)(x,2),f=O[0],v=O[1],N=Object(r.useState)(!1),S=Object(A.a)(N,2),y=S[0],k=S[1],T=Object(r.useState)(!1),L=Object(A.a)(T,2),I=L[0],U=L[1],P=Object(r.useState)(!1),B=Object(A.a)(P,2),W=B[0],D=B[1],_=Object(r.useState)("#fff"),E=Object(A.a)(_,2),R=E[0],z=E[1],J=oe(),Y=Object(H.a)(se,{variables:{login:a?a.username:""}}),M=Y.data,X=Y.loading,ae=Y.refetch;console.log(M);var re=function(){var e={userId:a._id};g.post("/api/repositories/",e).then((function(e){console.log(e),0!==d.length&&o(e.data.repos),0===e.data.repos.length&&(console.log("entraaaa"),U(!0)),m(e.data.repos)})).catch((function(e){console.log(e)}))};Object(r.useEffect)((function(){M&&(o(M.user.repositories.nodes),h(M.user.avatarUrl),re())}),[M,W]);return Object(q.jsx)(q.Fragment,{children:null!==e?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(F,{avatarurl:b}),Object(q.jsxs)(Q.a,{className:J.container,children:[Object(q.jsx)(V,{repositoriesAll:s,setrepositories:o}),Object(q.jsxs)(w.a,{style:{marginBottom:20},children:[Object(q.jsx)(l.a,{size:"large",variant:"contained",onClick:function(){y&&(k(!1),U(!1),ae(),v("#202123"),z("#fff"),o([]),m([]),D(!W))},style:{backgroundColor:f,color:R},children:"All Repositories"}),Object(q.jsx)(l.a,{size:"large",variant:"contained",onClick:function(){y||(k(!0),v("#fff"),z("#202123"),o([]),re())},style:{backgroundColor:R,color:f},children:"Favorites"})]}),Object(q.jsx)(w.a,{container:!0,spacing:3,children:X?Object(q.jsx)(Z.a,{}):0!==s.length?s.map((function(e,t){return Object(q.jsx)(w.a,{item:!0,xs:3,index:t,children:Object(q.jsxs)($.a,{elevation:3,className:J.root,children:[Object(q.jsxs)(K.a,{className:J.content,children:[Object(q.jsx)(C.a,{className:J.title,color:"textSecondary",gutterBottom:!0}),Object(q.jsx)(C.a,{variant:"h5",component:"h2",children:e.name}),Object(q.jsx)(C.a,{className:J.pos,color:"textSecondary",children:e.isPrivate?"Private":"Public"}),Object(q.jsxs)(C.a,{className:J.pos,color:"textSecondary",children:["CreateAt: ",ee()(new Date(e.createdAt)).format("DD/MM/YYYY")]}),Object(q.jsxs)(C.a,{variant:"body2",component:"p",style:{with:20},children:[e.description?e.description:"none Description",Object(q.jsx)("br",{})]}),Object(q.jsxs)(C.a,{variant:"body2",component:"p",style:{width:"10px"},children:[Object(q.jsx)("br",{}),"URL:",e.url]})]}),Object(q.jsx)(G.a,{children:(r=e.name,d.find((function(e){return r===e.name}))?Object(q.jsx)(ne.a,{className:J.Star,onClick:function(){return function(e){var a=e.name;g.delete("/api/repositories/delete",{params:{name:a}}).then((function(e){console.log(e),m([]),y?re():D(!W)})).catch((function(e){console.log(e)}))}(e)}}):Object(q.jsx)(te.a,{className:J.Star,onClick:function(){return function(e){console.log("repo",e);var t={createdAt:e.createdAt,description:e.description,isPrivate:e.isPrivate,name:e.name,url:e.url,userId:a._id};g.post("/api/repositories/Add",t).then((function(e){console.log(e),m([]),y?re():D(!W)})).catch((function(e){console.log(e)}))}(e)}}))})]})});var r})):Object(q.jsx)("h1",{children:y&&I?"you dont have favorite repositories, add one":y?null:"you dont have repositories"})})]})]}):Object(q.jsx)(i.a,{to:"/Login"})})},ce=function(){return Object(q.jsxs)(i.d,{children:[Object(q.jsx)(i.b,{exact:!0,path:"/login",component:I}),Object(q.jsx)(i.b,{exact:!0,path:"/singUp",component:P}),Object(q.jsx)(i.b,{exact:!0,path:"/",component:ie})]})},le=t(393),ue=t(117),de=t(175),me=t(396),je=t(398),pe=t(174),be=Object(de.a)({uri:"https://api.github.com/graphql"}),he=Object(pe.a)((function(e,a){var t=a.headers,r="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";return{headers:Object(ue.a)(Object(ue.a)({},t),{},{authorization:"Bearer ".concat(r)})}})),ge=new me.a({link:he.concat(be),cache:new je.a});var xe=function(){return Object(q.jsx)(T.a,{children:Object(q.jsx)(le.a,{client:ge,children:Object(q.jsx)(ce,{})})})},Oe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,405)).then((function(a){var t=a.getCLS,r=a.getFID,n=a.getFCP,s=a.getLCP,o=a.getTTFB;t(e),r(e),n(e),s(e),o(e)}))};o.a.render(Object(q.jsx)(n.a.StrictMode,{children:Object(q.jsx)(xe,{})}),document.getElementById("root")),Oe()}},[[329,1,2]]]);
//# sourceMappingURL=main.0444e294.chunk.js.map